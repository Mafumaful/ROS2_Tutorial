# A* 算法交互式单步调试器 - 快速入门

## 🎯 功能介绍

这个工具可以让你**单步查看A*算法的每一个执行步骤**，帮助深入理解：
- ✅ Open List 和 Closed Set 如何工作
- ✅ 节点的 f, g, h 值如何计算
- ✅ 算法如何选择下一个要扩展的节点
- ✅ 路径如何逐步构建

## 🚀 快速开始

### 方式一：使用专用调试演示（推荐新手）

```bash
python examples/lesson1_debug.py
```

这个版本使用简化的地图，更容易观察算法行为。

### 方式二：在主演示中启用调试模式

```bash
python examples/lesson1_demo.py --debug
```

这个版本使用完整的地图，可以看到更复杂的搜索过程。

### 方式三：使用交互式脚本

```bash
./run_debug_demo.sh
```

会提供菜单让你选择运行哪个版本。

## ⌨️ 键盘控制

| 按键 | 功能 |
|------|------|
| `→` 右箭头 或 `D` | 前进一步 ⏩ |
| `←` 左箭头 或 `A` | 后退一步 ⏪ |
| `Home` | 回到第一步 ⏮️ |
| `End` | 跳到最后一步 ⏭️ |

## 🎨 可视化说明

窗口中会显示：

| 元素 | 说明 |
|------|------|
| 🟢 **绿色圆圈** | 起点 |
| ⭐ **红色星号** | 终点 |
| ⬛ **灰色方块** | 障碍物 |
| 🔵 **浅蓝色方块** | Closed Set（已访问的节点）|
| 🟡 **黄色方块** | Open List（待扩展的节点）|
| 🟠 **橙色星号** | 当前正在扩展的节点 |
| 🟢 **绿色线条** | 当前找到的最优路径 |

每个节点旁边会显示：
- **f**: 总评估代价
- **g**: 从起点到当前节点的实际代价
- **h**: 从当前节点到终点的估计代价

## 📖 学习建议

### 第一遍：整体观察
1. 按 `→` 快速浏览整个搜索过程
2. 观察搜索是如何"直奔"目标的
3. 注意 Closed Set（浅蓝色）是如何扩展的

### 第二遍：细节分析
1. 从头开始（按 `Home`）
2. 每一步仔细观察：
   - 为什么选择了这个节点？（看 f 值）
   - Open List 中有哪些候选节点？
   - 当前路径是怎样的？
3. 对比不同节点的 f, g, h 值

### 第三遍：深入思考
- 如果改变启发式权重会怎样？
- 如果没有启发式函数（h=0）会怎样？
- 为什么有些节点被加入 Open List 后又被丢弃？
- 算法是如何避免走进死胡同的？

## 💡 示例场景

### 场景 1：理解 Open List 和 Closed Set

**观察点**：
- Step 0-5：起点附近的节点如何被加入 Open List
- Step 10-20：已访问的节点如何移到 Closed Set
- Step 30+：搜索如何绕过障碍物

### 场景 2：理解 f=g+h 的作用

**观察点**：
- 对比两个候选节点的 f 值，看哪个被选中
- g 值随路径长度增加而增大
- h 值随接近目标而减小
- f 值决定了搜索的方向

### 场景 3：理解启发式函数

**观察点**：
- 为什么搜索朝着目标方向前进？
- 为什么不是盲目地向四周扩散？
- 启发式函数如何"引导"搜索？

## 🔧 自定义测试

你可以修改 `examples/lesson1_debug.py` 来测试不同场景：

```python
# 修改地图大小
width, height = 20, 20  # 改成你想要的尺寸

# 修改障碍物
obstacles = [
    (5, 5, 7, 7),    # 添加或修改障碍物位置
    (9, 2, 10, 8),
]

# 修改起点和终点
start = (2, 2)
goal = (17, 17)

# 修改启发式权重
planner = AStar(grid, start, goal, heuristic_weight=1.0)
# 试试 0.0（变成 Dijkstra）或 2.0（更激进）
```

## ❓ 常见问题

**Q: 中文字符显示为方框？**
A: 这是字体警告，不影响功能。可以忽略。

**Q: 如何暂停在某一步？**
A: 到达你想查看的步骤后，停止按键即可。

**Q: 可以保存动画吗？**
A: 当前版本不支持，但你可以在关键步骤截图。

**Q: 如何看到完整的搜索树？**
A: 使用 `End` 键跳到最后一步，你会看到所有访问过的节点。

## 📚 进阶学习

学完单步调试后，你可以：
1. 修改启发式函数，观察效果变化
2. 实现不同的搜索算法（BFS, DFS, Dijkstra）
3. 添加动态障碍物
4. 实现双向 A* 算法
5. 优化算法性能

## 🎓 教学使用

如果你是教师，可以：
1. 在课堂上演示每一步，逐步讲解
2. 让学生自己运行并回答问题
3. 设计练习：修改地图，预测搜索路径
4. 对比不同算法的搜索过程

---

**祝学习愉快！🎉**

有问题或建议？欢迎在代码仓库提 issue！
